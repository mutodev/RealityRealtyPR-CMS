source: Property LEFT JOIN PropertyStat.Property.Category
default: advanced
fields:
    title:
        label: Keywords
        source: [PropertyStat.Property.title, PropertyStat.Property.id]
        element:
            type: Text
            class: form-control

    status:
        label: Status
        source: PropertyStat.Property.Contract.status
        empty: 'All'
        element:
            type: SelectCheckbox
            class: form-control
            options:
                Optioned: Optioned
                Closed: Closed
                Rented: Rented
                Failed: Canceled
                'Current Listing': Current Listing

    for_sale:
        label: For Sale
        source: PropertyStat.Property.for_sale
        empty: 'All'
        element:
            type: Select
            class: form-control
            options:
                1: Yes
                0: No

    for_rent:
        label: For Rent
        source: PropertyStat.Property.for_rent
        empty: 'All'
        element:
            type: Select
            class: form-control
            options:
                1: Yes
                0: No

    repo:
        label: REPO
        source: PropertyStat.Property.is_repossessed
        empty: 'All'
        element:
            type: Select
            class: form-control
            options:
                1: Yes
                0: No

    short_sale:
        label: Short Sale
        source: PropertyStat.Property.is_short_sale
        empty: 'All'
        element:
            type: Select
            class: form-control
            options:
                1: Yes
                0: No

    production_unit_id:
        label: Production Unit
        source: PropertyStat.Property.production_unit_id
        element:
            type: Select
            class: form-control
            source: FROM ProductionUnit
            source_label: ProductionUnit.name

    type:
        label: Type
        source: PropertyStat.Property.Category.type
        empty: 'All'
        element:
            type: Select
            class: form-control
            options:
                Residential: Residential
                Commercial: Commercial
                Land: Land

    category_id:
        label: Category
        source: PropertyStat.Property.category_id
        element:
            type: Select
            class: form-control
            source: FROM PropertyCategory
            source_key: id
            source_group: type

    area_id:
        label: City
        source: PropertyStat.Property.area_id
        element:
            type: Select
            class: form-control
            source: FROM Area WHERE country_id = 89

    price_from:
        label: Price from
        source: [PropertyStat.Property.sale_price, PropertyStat.Property.rent_price]
        operators:
            - GreaterThanOrEqual
        element:
            type:     Price

    price_to:
        label: Price to
        source: [PropertyStat.Property.sale_price, PropertyStat.Property.rent_price]
        operators:
            - LessThanOrEqual
        element:
            type:     Price

    broker:
        source: PropertyStat.Property.account_id
        element:
            type: Select
            source: FROM Account
            source_label_tpl: %{Account.getFullName}
            class: form-control

    date_from:
        label: Date from
        source: PropertyStat.updated_at
        type: Date
        operators:
            - After
        element:
            type:     DateTime
            format:   '%Y-%m-%d %g:%i %A %p'
            split:    false
            output:   'Y-m-d H:i:00'
            class:    form-control

    date_to:
        label: Date to
        source: PropertyStat.updated_at
        type: Date
        operators:
            - Before
        element:
            type:     DateTime
            format:   '%Y-%m-%d %g:%i %A %p'
            split:    false
            output:   'Y-m-d H:i:00'
            class:    form-control
